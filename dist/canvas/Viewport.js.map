{"version":3,"file":"Viewport.js","sourceRoot":"","sources":["../../src/canvas/Viewport.js"],"names":[],"mappings":"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"}